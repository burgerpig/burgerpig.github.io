# Basics

#### 多层次的ISP结构的因特网

ISP: Internet Service Provider

IXP: Internet eXchange Point

ISP分为主干、地区和本地ISP。IXP用于在同级ISP间网络交互，避免网上回溯父亲ISP。

分层：物理层、数据链路层、网络层、传输层、应用层



#### 物理层

物理层比较底层，先不看了



#### 数据链路层

主要解决两个主机之间的点对点通信以及广播信道问题：

1）PPP协议、CSMA/CD协议

2）三个基本问题：封装成帧、透明传输、差错检测

3）MAC层

##### 封装成帧framing

给IP数据报增加头部和尾部控制符，`SOH`，`EOT`

##### 透明传输

在非ASCII文本文件传输（二进制、图像等），在IP数据报中会会出现`SOH`，`EOT`字符。需要通过`ESC`转义处理。

`SOH` -->  `ESC SOH`。`ESC:\033`

这种方式为字节填充（Byte stuffing）

##### 差错检测

目的为避免物理层的信号错乱（注意区分**可靠传输**的概念）。

CRC检验：每组$k$个比特，设为$M$，冗余码为$n$位，双方先约定好一个$n+1$位的除数$P$。冗余码称为帧检验序列FCS（Frame Check Sequence），进行如下**模二运算**：
$$
FCS=(M\times 2^n) \mod P
$$
发送方发射的数据为（$2^nM+FCS$）

接收方接收到后进行**模二运算**操作:$(2^nM+FCS)\mod P$ 。判断是否为0。

#### PPP协议

1）字段：7E FF 03 协议 数据报 FCS 7E

2）字节填充：

	- 信息字段中（数据报）每一个0x7E转换为0x7D, 0x5E
	- 若出现一个0x7D，则变为（0x7D，0x5D）
	- ASCII控制字符前加入0x7D

3）零比特填充：

​	五个1后加一个0

